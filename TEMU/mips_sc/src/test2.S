# test2.S - 移位和比较指令测试
# 测试：SLL, SRAV, SLT, SLTIU
# 入口地址：0x80000000

    .text
    .globl _start
    .org 0x0000
_start:
    # 初始化测试数据
    lui  $1, 0x8000         # $1 = 0x80000000 (最小负数)
    ori  $2, $0, 0x0001     # $2 = 0x00000001
    ori  $3, $0, 0x00FF     # $3 = 0x000000FF
    ori  $4, $0, 0x1234     # $4 = 0x00001234
    
    # 左移指令测试（SLL）
    sll  $5, $2, 0          # $5 = $2 << 0 = 0x00000001
    sll  $6, $2, 1          # $6 = $2 << 1 = 0x00000002
    sll  $7, $2, 4          # $7 = $2 << 4 = 0x00000010
    sll  $8, $2, 8          # $8 = $2 << 8 = 0x00000100
    sll  $9, $2, 16         # $9 = $2 << 16 = 0x00010000
    sll  $10, $2, 31        # $10 = $2 << 31 = 0x80000000 (最大左移)
    sll  $11, $3, 8         # $11 = 0xFF << 8 = 0x0000FF00
    
    # 算术右移指令测试（SRAV）
    ori  $12, $0, 16        # $12 = 16 (移位量)
    srav $13, $1, $12       # $13 = 0x80000000 >>> 16 = 0xFFFF8000 (符号扩展)
    ori  $14, $0, 31        # $14 = 31
    srav $15, $1, $14       # $15 = 0x80000000 >>> 31 = 0xFFFFFFFF
    ori  $16, $0, 4         # $16 = 4
    srav $17, $4, $16       # $17 = 0x1234 >>> 4 = 0x0123
    
    # 比较指令测试（SLT）
    slt  $18, $1, $2        # $18 = ($1 < $2) = 1 (负数 < 正数)
    slt  $19, $2, $1        # $19 = ($2 < $1) = 0
    slt  $20, $2, $2        # $20 = ($2 < $2) = 0 (相等)
    ori  $21, $0, 100       # $21 = 100
    ori  $22, $0, 200       # $22 = 200
    slt  $23, $21, $22      # $23 = (100 < 200) = 1
    
    # 无符号比较测试（SLTIU）
    sltiu $24, $1, 0x7FFF   # $24 = (0x80000000 < 0x7FFF) = 0 (无符号)
    sltiu $25, $2, 0x0002   # $25 = (1 < 2) = 1
    sltiu $26, $2, 0x0001   # $26 = (1 < 1) = 0
    sltiu $27, $2, 0x0000   # $27 = (1 < 0) = 0
    
    # 边界条件测试
    lui  $28, 0x7FFF        # $28 = 0x7FFF0000
    ori  $28, $28, 0xFFFF   # $28 = 0x7FFFFFFF (最大正数)
    slt  $29, $28, $1       # $29 = (最大正数 < 最小负数) = 0
    slt  $30, $1, $28       # $30 = (最小负数 < 最大正数) = 1
    
    # 结束
_end:
    beq  $0, $0, _end
    nop
